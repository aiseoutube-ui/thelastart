
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Last Art</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- Swiper CSS (from CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    
    <!-- INLINED CSS -->
    <style>
        /**
         * =================================================================================================
         * Contenido de styles.css
         * =================================================================================================
         */

        /* --- GLOBAL STYLES --- */
        * { box-sizing: border-box; }
        html {
            width: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            width: 100%;
            max-width: 100%;
            overflow-x: hidden; 
            margin: 0;
            padding: 0;
            background-color: #000000;
            color: #e0e0e0;
            font-family: 'Inter', sans-serif;
            overscroll-behavior: none;
        }

        /* --- SCRAMBLE PRELOADER --- */
        #scramble-preloader {
          position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000;
          background-color: #000; opacity: 1; visibility: visible; display: flex;
          align-items: center; justify-content: center;
        }
        .hero-container, .percentage-counter { opacity: 0; visibility: hidden; }
        #start-orb {
          position: absolute; top: 0; left: 0; width: 100px; height: 100px; z-index: 10001;
          cursor: pointer; will-change: transform; opacity: 0;
        }
        .hero-container {
          position: absolute; display: flex; align-items: center; justify-content: center;
          text-align: center; height: 100vh; width: 100%; padding: 2rem;
        }
        #target-text {
          font-family: 'Archivo', sans-serif; font-size: clamp(2rem, 6vw, 5.5rem); font-weight: 700;
          line-height: 1.1; margin: 0; min-height: 1.2em; white-space: pre-wrap; color: #ffffff;
          text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        .percentage-counter {
          position: absolute; bottom: 30px; right: 30px; font-family: 'Archivo', sans-serif;
          font-size: 1.5rem; font-weight: 500; color: #ffffff; letter-spacing: 0.1em;
        }
        .scramble-char {
          color: #ffffff; display: inline-block; font-weight: bold;
          text-shadow: 0 0 10px #ffffff, 0 0 20px #ffffff, 0 0 40px rgba(255, 255, 255, 0.7);
          animation: panic-flicker 0.1s infinite;
        }
        .scramble-char.red-glitch {
          color: transparent; -webkit-text-stroke: 1px #E20000; text-stroke: 1px #E20000; 
          font-weight: 500; text-shadow: 0 0 8px rgba(255, 0, 0, 0.6), 0 0 12px rgba(255, 0, 0, 0.4);
          animation: none;
        }
        @keyframes panic-flicker {
          0% { opacity: 1; filter: brightness(1.5); } 50% { opacity: 0.6; filter: brightness(1); }
          100% { opacity: 1; filter: brightness(1.5); }
        }
        .is-glitching { animation: shake-hard 0.2s infinite; }
        @keyframes shake-hard {
          0%, 100% { transform: translate(0, 0); } 10% { transform: translate(-1px, -1px); }
          20% { transform: translate(1px, 1px); } 30% { transform: translate(-1px, 1px); }
          40% { transform: translate(1px, -1px); } 50% { transform: translate(-1px, 0); }
          60% { transform: translate(1px, 0); } 70% { transform: translate(0, 1px); }
          80% { transform: translate(0, -1px); } 90% { transform: translate(-1px, 1px); }
        }
        .scanline {
          width: 100%; height: 100%; z-index: 99;
          background: linear-gradient(0deg, rgba(0,0,0,0) 50%, rgba(255, 255, 255, 0.01) 50%), linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
          background-size: 100% 3px, 3px 100%; position: fixed; top: 0; left: 0;
          pointer-events: none;
        }

        /* --- REACT APP CONTAINER --- */
        #root { opacity: 0; visibility: hidden; }

        /* --- TAILWIND BASE STYLES --- */
        :root {
            --brand-primary: #0A0A0A;
            --brand-secondary: #141414;
            --brand-accent: #00FFFF;
            --brand-light: #E0E0E0;
            --brand-muted: #888888;
        }
        
        /* Apply Tailwind Preflight and utility classes here */
        /* For this example, I am adding some of the required classes manually. A real build would generate this. */
        .bg-brand-primary { background-color: var(--brand-primary); }
        .bg-brand-secondary { background-color: var(--brand-secondary); }
        .text-brand-accent { color: var(--brand-accent); }
        .text-brand-light { color: var(--brand-light); }
        .text-brand-muted { color: var(--brand-muted); }
        .font-sans { font-family: 'Inter', sans-serif; }
        .antialiased { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .overflow-x-hidden { overflow-x: hidden; }

        /* --- SWIPER & CURSOR STYLES --- */
        ::selection { background-color: #00FFFF; color: #0A0A0A; }
        .swiper-button-next, .swiper-button-prev { color: #00FFFF !important; transition: transform 0.3s ease; }
        .swiper-button-next:hover, .swiper-button-prev:hover { transform: scale(1.2); }
        .swiper-pagination-bullet-active { background: #00FFFF !important; }
        .custom-cursor { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999; mix-blend-mode: difference; }
        .cursor-dot { width: 8px; height: 8px; background-color: white; border-radius: 50%; transform: translate(-50%, -50%); }
        .cursor-outline { width: 40px; height: 40px; border: 2px solid white; border-radius: 50%; transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s, border-width 0.3s; }
        .cursor-outline.hovered { width: 60px; height: 60px; border-width: 2px; }
        @media (min-width: 768px) and (pointer: fine) {
          body, .cursor-pointer-grow, .cursor-pointer-grow * { cursor: none; }
        }

        /* --- CONTACT SECTION --- */
        .contact-orb {
          width: 40px; height: 40px; border-radius: 50%;
          background: radial-gradient(circle at 30% 30%, #5DFDFD, #004D4D 70%, #0A0A0A 100%);
          box-shadow: 0 0 15px 5px rgba(0, 255, 255, var(--glow-opacity, 0.2));
          position: relative; will-change: transform, box-shadow; transition: background 0.3s, box-shadow 0.3s;
        }
        .orb-error {
          background: radial-gradient(circle at 30% 30%, #ff8080, #800000 70%, #0A0A0A 100%);
          box-shadow: 0 0 15px 5px rgba(255, 0, 0, 0.5);
        }
        .contact-input {
          background-color: transparent; border: 1px solid #333; color: #F5F5F5;
          padding: 0.75rem 1rem; border-radius: 0.5rem; transition: all 0.3s ease; width: 100%;
        }
        .contact-input:focus {
          outline: none; border-color: #00FFFF; box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.2);
        }
        .submit-btn {
          background-color: #0A0A0A; color: #F5F5F5; border: 1px solid #F5F5F5;
          padding: 0.75rem 1.5rem; border-radius: 9999px; font-weight: bold; transition: all 0.3s ease;
        }
        .submit-btn:hover {
          background-color: #00FFFF; color: #0A0A0A; border-color: #00FFFF;
        }
        .secondary-btn {
          background-color: transparent; color: #F5F5F5; border: 1px solid #333;
          padding: 0.75rem 1.5rem; border-radius: 9999px; transition: all 0.3s ease;
        }
        .secondary-btn:hover { border-color: #F5F5F5; }

    </style>
    <!-- Tailwind CSS JIT CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Custom Tailwind theme configuration
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'brand-primary': '#0A0A0A',
              'brand-secondary': '#141414',
              'brand-accent': '#00FFFF',
              'brand-light': '#E0E0E0',
              'brand-muted': '#888888',
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            }
          }
        }
      }
    </script>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0"
  }
}
</script>
</head>
<body>
    <!-- The preloader HTML remains, as its logic is self-contained and runs first -->
    <div id="scramble-preloader">
      <audio id="bg-audio" src="https://cdn.pixabay.com/audio/2025/06/06/audio_d5026f8df6.mp3" loop></audio>
      <audio id="loop-audio" src="https://cdn.pixabay.com/audio/2022/03/17/audio_5f88a20fde.mp3"></audio>
      <audio id="glitch-audio" src="https://cdn.pixabay.com/audio/2022/03/10/audio_caa9fe2ba1.mp3"></audio>
      <audio id="transition-audio" src="https://cdn.pixabay.com/audio/2022/03/15/audio_2ab03de167.mp3"></audio>
      <div id="start-orb" class="contact-orb"></div>
      <div class="scanline"></div>
      <div class="hero-container">
          <h1 id="target-text"></h1>
      </div>
      <div class="percentage-counter">0%</div>
    </div>
    
    <!-- MAIN REACT APP CONTAINER -->
    <div id="root"></div>

    <!-- SCRIPTS -->
    <!-- GSAP Libraries (from CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/SplitText.min.js"></script>
    
    <!-- PRELOADER SCRIPT (from bundle.js) -->
    <script>
        class TextScramble {
            constructor(el, glitchAudioEl) {
                this.el = el;
                this.glitchEl = glitchAudioEl;
                this.chars = '█▓▒░▀▄▌▐ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                this.glitchPlayCount = 0;
                this.maxGlitches = Math.floor(Math.random() * 3);
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 40);
                    const end = start + Math.floor(Math.random() * 80) + 40;
                    this.queue.push({ from, to, start, end, char: from });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    let charClass = '';
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (Math.random() < 0.2) char = this.chars[Math.floor(Math.random() * this.chars.length)];
                        if (this.glitchEl && Math.random() < 0.05) charClass = ' red-glitch';
                        if (this.glitchEl && this.glitchPlayCount < this.maxGlitches && Math.random() < 0.01 && window.isAudioReady) {
                            if (this.glitchEl.paused) {
                                if (isFinite(this.glitchEl.duration) && this.glitchEl.duration > 0) this.glitchEl.currentTime = Math.random() * this.glitchEl.duration;
                                else this.glitchEl.currentTime = 0;
                                this.glitchEl.play().catch(e => {});
                                this.glitchPlayCount++;
                            }
                        }
                        output += `<span class="scramble-char${charClass}">${char}</span>`;
                        this.queue[i].char = char;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const preloaderEl = document.getElementById('scramble-preloader');
            const rootEl = document.getElementById('root');
            
            const urlParams = new URLSearchParams(window.location.search);
            const skipIntro = urlParams.get('skipIntro') === 'true';

            if (skipIntro || localStorage.getItem('hasSeenIntro') === 'true') {
                preloaderEl.style.display = 'none';
                rootEl.style.opacity = '1';
                rootEl.style.visibility = 'visible';
                
                setTimeout(() => {
                    window.preloaderHasFinished = true;
                    window.dispatchEvent(new CustomEvent('preloaderFinished'));
                }, 10);

            } else {
                const bgAudioEl = document.getElementById('bg-audio');
                const loopAudioEl = document.getElementById('loop-audio');
                const glitchAudioEl = document.getElementById('glitch-audio');
                const transitionAudioEl = document.getElementById('transition-audio');
                window.isAudioReady = false;

                const unlockAudio = () => {
                    if (window.isAudioReady) return;
                    bgAudioEl.play().catch(e => {});
                    loopAudioEl.play().catch(e => {});
                    glitchAudioEl.play().then(() => { glitchAudioEl.pause(); glitchAudioEl.currentTime = 0; }).catch(e => {});
                    transitionAudioEl.play().then(() => { transitionAudioEl.pause(); transitionAudioEl.currentTime = 0; }).catch(e => {});
                    window.isAudioReady = true;
                };
                
                const startMainAppTransition = () => {
                    if(window.isAudioReady) {
                      transitionAudioEl.currentTime = 0;
                      transitionAudioEl.volume = 0.8;
                      transitionAudioEl.play().catch(e => {});
                      gsap.to([bgAudioEl, loopAudioEl], { volume: 0, duration: 1 });
                    }

                    const tl = gsap.timeline({
                      onComplete: () => {
                        preloaderEl.style.display = 'none';
                        try {
                          localStorage.setItem('hasSeenIntro', 'true');
                        } catch (e) {
                          console.error("Could not save to localStorage", e);
                        }
                        window.preloaderHasFinished = true;
                        window.dispatchEvent(new CustomEvent('preloaderFinished'));
                      }
                    });
                    tl.to(preloaderEl, { opacity: 0, duration: 1.5, ease: 'power2.inOut' })
                      .to(rootEl, { opacity: 1, visibility: 'visible', duration: 1.5, ease: 'power3.out' }, '-=0.8');
                };

                const runIntroSequence = () => {
                    const textElement = document.getElementById('target-text');
                    const percentageElement = document.querySelector('.percentage-counter');
                    const fx = new TextScramble(textElement, glitchAudioEl);
                    const phrases = ['FROM SENSING', 'TO LEARNING.', 'CAPABILITIES', 'THAT MULTIPLY.'];
                    let progress = { value: 0 };

                    const masterTl = gsap.timeline({
                        onComplete: startMainAppTransition
                    });

                    masterTl.to(progress, {
                        value: 100,
                        duration: 20,
                        ease: 'none',
                        onUpdate: () => {
                            if (Math.random() > 0.15) {
                                percentageElement.innerText = `${Math.floor(progress.value)}%`;
                            } else {
                                percentageElement.innerText = `${Math.floor(Math.random() * 100)}%`;
                            }
                        }
                    }, 0);

                    const phraseTimings = [1, 6, 11, 16];
                    phrases.forEach((phrase, index) => {
                        masterTl.call(() => {
                            textElement.classList.add('is-glitching');
                            if (window.isAudioReady) {
                                gsap.to(bgAudioEl, { volume: 0.8, duration: 0.3 });
                                gsap.to(loopAudioEl, { volume: 0.3, duration: 0.3 });
                            }
                            fx.setText(phrase).then(() => {
                                textElement.classList.remove('is-glitching');
                                if (window.isAudioReady) {
                                    gsap.to(bgAudioEl, { volume: 0, duration: 1.0 });
                                    gsap.to(loopAudioEl, { volume: 0, duration: 1.0 });
                                }
                            });
                        }, [], phraseTimings[index]);
                    });
                };

                const startOrbEl = document.getElementById('start-orb');
                
                gsap.set(startOrbEl, { xPercent: -50, yPercent: -50, opacity: 1 });
                const pos = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
                const mouse = { x: pos.x, y: pos.y };
                const xSet = gsap.quickSetter(startOrbEl, "x", "px");
                const ySet = gsap.quickSetter(startOrbEl, "y", "px");
                
                const breathing = { scale: 1 };
                gsap.to(breathing, {
                    scale: 1.15,
                    duration: 3,
                    ease: 'sine.inOut',
                    repeat: -1,
                    yoyo: true,
                });

                gsap.set(startOrbEl, { x: pos.x, y: pos.y });

                const mouseMoveHandler = e => {
                    mouse.x = e.clientX;
                    mouse.y = e.clientY;
                };
                window.addEventListener("mousemove", mouseMoveHandler);

                const mouseLeaveHandler = () => {
                    mouse.x = window.innerWidth / 2;
                    mouse.y = window.innerHeight / 2;
                    gsap.delayedCall(0.7, () => {
                        if (!document.body.classList.contains('preloader-active')) return;
                        gsap.fromTo(startOrbEl, { '--glow-opacity': 0.2 }, { '--glow-opacity': 0.9, duration: 0.5, yoyo: true, repeat: 1, ease: 'power2.inOut'});
                    });
                };
                document.documentElement.addEventListener("mouseleave", mouseLeaveHandler);

                const ticker = () => {
                    const dt = 1.0 - Math.pow(1.0 - 0.15, gsap.ticker.deltaRatio()); 
                    const prevX = pos.x;
                    const prevY = pos.y;
                    pos.x += (mouse.x - pos.x) * dt;
                    pos.y += (mouse.y - pos.y) * dt;
                    const speedX = pos.x - prevX;
                    const speedY = pos.y - prevY;
                    const rotation = Math.atan2(speedY, speedX) * (180 / Math.PI);
                    const scaleDistortion = Math.min(Math.sqrt(speedX**2 + speedY**2) * 0.05, 0.4);

                    gsap.set(startOrbEl, {
                        rotation: rotation,
                        scaleX: (1 + scaleDistortion) * breathing.scale,
                        scaleY: (1 - scaleDistortion) * breathing.scale,
                    });
                    
                    xSet(pos.x);
                    ySet(pos.y);
                };
                gsap.ticker.add(ticker);

                startOrbEl.addEventListener('click', () => {
                    window.removeEventListener("mousemove", mouseMoveHandler);
                    document.documentElement.removeEventListener("mouseleave", mouseLeaveHandler);
                    gsap.ticker.remove(ticker);
                    gsap.killTweensOf(breathing);
                    gsap.killTweensOf(startOrbEl);

                    unlockAudio();
                    
                    const tl = gsap.timeline();
                    tl.to(startOrbEl, {
                        opacity: 0,
                        scale: 0.2,
                        duration: 0.7,
                        ease: 'power3.in',
                        onComplete: () => startOrbEl.style.display = 'none'
                    }).to(['.hero-container', '.percentage-counter'], {
                        opacity: 1,
                        visibility: 'visible',
                        duration: 1,
                        ease: 'power3.out',
                        onComplete: runIntroSequence
                    }, "-=0.2");

                }, { once: true });
            }

            // Glitch effect for percentage counter
            const percentageElement = document.querySelector(".percentage-counter");
            if (!percentageElement) return;

            const glitchChars = ["Ô", "▒", "░", "▀", "▄", "¥", "▐", "█"];

            const glitchEffect = () => {
              if (Math.random() < 0.45) {
                const original = percentageElement.textContent;
                const randIndex = Math.floor(Math.random() * glitchChars.length);
                const glitchChar = glitchChars[randIndex];
                const glitched = original.replace(/d+%/, (m) => {
                  const pos = Math.floor(Math.random() * m.length);
                  return (m.substring(0, pos) + glitchChar + m.substring(pos + 1));
                });
                percentageElement.style.color = "#ff2a2a";
                percentageElement.textContent = glitched;
                setTimeout(() => {
                  percentageElement.textContent = original;
                  percentageElement.style.color = "#ffffff";
                }, gsap.utils.random(60, 200));
              }
              gsap.delayedCall(gsap.utils.random(0.2, 0.8), glitchEffect);
            };

            glitchEffect();
        });
    </script>

    <!-- React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- INLINED REACT APP -->
    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;

        // --- CMS CONTENT ---
        const content = {
          header: {
            logoUrl: 'https://aiseoutube-ui.github.io/Tap/logo.svg',
            navLinks: [
              { name: 'Inicio', href: '#hero' },
              { name: 'Acerca de', href: '#about' },
              { name: 'Galería', href: '#gallery' },
              { name: 'Equipo', href: '#team' },
              { name: 'Contacto', href: '#contact' },
            ],
            socialLinks: [
              { platform: 'instagram', url: 'https://instagram.com' },
              { platform: 'twitter', url: 'https://twitter.com' },
              { platform: 'linkedin', url: 'https://linkedin.com' },
            ],
          },
          hero: {
            backgroundVideoUrl: 'https://aiseoutube-ui.github.io/thelastart/video.mp4',
            title: 'Descubriendo la Creatividad Artificial.',
            subtitle: 'Una agencia que fusiona el arte, la tecnología y la imaginación para crear lo imposible.',
            ctaText: 'Explorar Galería',
            ctaLink: '#gallery',
          },
          about: {
            title: 'Sobre el Proyecto',
            paragraphs: [
              'Somos una agencia de publicidad de vanguardia que aprovecha el poder de la inteligencia artificial para redefinir los límites de la creatividad. Nuestro AI Discovery Site es un escaparate de esta visión.',
              'Aquí, exploramos y exhibimos contenido visual generado por IA, desde imágenes surrealistas hasta secuencias de video dinámicas, todo curado para inspirar y sorprender. Cada pieza es un testimonio de la colaboración entre la mente humana y la máquina.',
            ],
            imageUrl: 'https://picsum.photos/1200/800?random=10',
          },
          gallery: [
            { id: 1, type: 'image', thumbnail: 'https://picsum.photos/600/800?random=1', src: 'https://picsum.photos/1200/1600?random=1', title: 'Cosmic Voyager', description: 'An astronaut discovering a nebula of vibrant colors and shapes.' },
            { id: 2, type: 'video', thumbnail: 'https://picsum.photos/800/600?random=2', src: 'https://videos.pexels.com/video-files/857039/857039-hd_1920_1080_25fps.mp4', title: 'Liquid Dreams', description: 'Flowing metallic liquids creating abstract, mesmerizing patterns.' },
            { id: 3, type: 'image', thumbnail: 'https://picsum.photos/800/600?random=3', src: 'https://picsum.photos/1600/1200?random=3', title: 'Cybernetic Forest', description: 'A forest where nature and technology merge into a glowing biome.' },
            { id: 4, type: 'image', thumbnail: 'https://picsum.photos/600/800?random=4', src: 'https://picsum.photos/1200/1600?random=4', title: 'Steampunk Metropolis', description: 'A bustling city powered by steam and intricate clockwork.' },
            { id: 5, type: 'image', thumbnail: 'https://picsum.photos/800/600?random=5', src: 'https://picsum.photos/1600/1200?random=5', title: 'Oceanic Leviathan', description: 'A gentle giant of the deep, adorned with bioluminescent patterns.' },
            { id: 6, type: 'video', thumbnail: 'https://picsum.photos/600/800?random=6', src: 'https://videos.pexels.com/video-files/4782071/4782071-hd_1920_1080_30fps.mp4', title: 'Quantum Flux', description: 'Particles of light dancing and shifting in a quantum state.' },
            { id: 7, type: 'image', thumbnail: 'https://picsum.photos/800/600?random=7', src: 'https://picsum.photos/1600/1200?random=7', title: 'Desert Mirage', description: 'An oasis that appears in the vast, shimmering desert landscape.' },
            { id: 8, type: 'image', thumbnail: 'https://picsum.photos/600/800?random=8', src: 'https://picsum.photos/1200/1600?random=8', title: 'Retrofuture Portrait', description: 'A portrait of a figure from a future imagined in the past.' },
          ],
          team: [
            { id: 1, name: 'Alex Rivera', role: 'Director Creativo', image1: 'https://picsum.photos/500/500?random=21', image2: 'https://picsum.photos/500/500?random=22', social: [{ platform: 'linkedin', url: '#' }, { platform: 'twitter', url: '#' }] },
            { id: 2, name: 'Beatriz Chen', role: 'Jefa de IA', image1: 'https://picsum.photos/500/500?random=23', image2: 'https://picsum.photos/500/500?random=24', social: [{ platform: 'linkedin', url: '#' }, { platform: 'github', url: '#' }] },
            { id: 3, name: 'Carlos Gomez', role: 'Diseñador Principal', image1: 'https://picsum.photos/500/500?random=25', image2: 'https://picsum.photos/500/500?random=26', social: [{ platform: 'instagram', url: '#' }, { platform: 'linkedin', url: '#' }] },
            { id: 4, name: 'Daniela Flores', role: 'Estratega de Contenido', image1: 'https://picsum.photos/500/500?random=27', image2: 'https://picsum.photos/500/500?random=28', social: [{ platform: 'linkedin', url: '#' }, { platform: 'twitter', url: '#' }] },
            { id: 5, name: 'Eva Mendez', role: 'Project Manager', image1: 'https://picsum.photos/500/500?random=29', image2: 'https://picsum.photos/500/500?random=30', social: [{ platform: 'linkedin', url: '#' }] },
          ],
          contact: {
            preTitle: 'Looks like you need some help!!!',
            mainTitle: 'Reach Out!',
            paragraph: 'I usually respond within an hour, but designers do sleep two to three hours a night, so it might take a bit longer. Thank you and I am looking to hearing from you.',
            illustrationUrl: 'https://assets.website-files.com/6209d2d27572624141595189/6215320d3753c158197c36d0_illustration-2.svg',
            disclaimer: 'By submitting this form, you acknowledge receipt of our company Privacy and policy.',
          },
          footer: {
            copyright: `© ${new Date().getFullYear()} AI Discovery. Todos los derechos reservados.`,
            links: [
              { name: 'Inicio', href: '#hero' },
              { name: 'Galería', href: '#gallery' },
              { name: 'Equipo', href: '#team' },
            ],
            socialLinks: [
              { platform: 'instagram', url: 'https://instagram.com' },
              { platform: 'twitter', url: 'https://twitter.com' },
              { platform: 'linkedin', url: 'https://linkedin.com' },
            ],
          }
        };

        const processContent = {
          title: "From Idea to Motion",
          simplePrompt: "A dynamic, photorealistic video of a whisk mixing ingredients in a bowl, creating a delicious sauce, with dramatic lighting.",
          technicalPrompt: "Cinematic, ultra-realistic photo, Kodak Portra 400 film. Mood: pensive, mysterious.A 50-year-old rugged man with a backpack and a small white robot stand back to viewer on a grassy hill, sharp focus.Background: A smooth, flat, non-reflective, luminous green chroma key studio wall, no distortions.Dramatic low-key lighting silhouettes man and robot against the uniform green.Foreground grass softly lit with gentle shadows.Shallow depth of field: man/robot extremely sharp, chroma key flat in soft focus.Slightly high-angle shot, muted greens on hill and bright chroma key.",
          steps: [
            { id: 1, title: "1. Generating Key Assets", description: "The main subject, the whisk, is generated with precise detail and realistic textures based on the prompt's description." },
            { id: 2, title: "2. Building the Scene", description: "Next, the environment and other elements are created, like this bowl with raw ingredients, ready for action." },
            { id: 3, title: "3. Compositing a Keyframe", description: "The elements are combined into a single, cohesive image that serves as the visual anchor and starting point for the animation." },
            { id: 4, title: "4. Animating the Final Shot", description: "Finally, the keyframe is brought to life. The AI generates the motion, creating a fluid and captivating video sequence." }
          ],
          assets: {
            image2: 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjz2KndddO5ApH9P2Ic8li8zIdMYMxyhCxxXlJPDFXA1zSNNGI0szA6DGTxIvfT_zUtsJfAK-UHRtdVP9CzksJePX9Rj_n15LBQAsDUbJLYuRPaBV9U2UjsbFcBbKiMR6GmldN3TcoxG-tE_XHZzVwRGBTABRRINB-m7yi_-jcBLObtXwOzS49DwcJxBpZ1/s1600/Gemini_Generated_Image_k0e5hek0e5hek0e5.png',
            image3: 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhW0C7_WUTw0stvYIc9HhhzTlcQpuv48Z9FnRSu9UmOGGWzJhms8AxwHvBmN89KbEf5Q-2RznNiUYjXoogyTmKT8ZmGybwb2jFwOTg06mT-yks6iKzmAtXpphV6XJMsHzlVbkQ4vM7l3laqwh5yQsZcitAcB2uF9cvnO9NVBptbIPOsw2TwaP8jkiZUK6b4/s1600/Whisk_6c2b320cb27dbe58ebc41b7da48239a3dr.png',
            image4: 'https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjmC96iMf3DZLTRaXmHYSqXBzAi5FtqWc1h_r7LKFszk4lyfhzHcXOZ-s1jPmSruo_2tsD-T8xDx7AWgMtf7XEG2aQOXTWw1hXLENkqLZtm7vgD9mSYNDRrc4OdUrylJQqffFWiZgFflbF6HRKTkg5uT33Oa21SPsfAB_SUYncuSvBDkv3dVP2Qy2kdJsxT/s1600/Gemini_Generated_Image_k0e5hek0e5hek0e5%20%280-00-00-00%29.png',
            video: 'https://aiseoutube-ui.github.io/thelastart/video.mp4'
          }
        };

        const consistencyContent = {
          title: "Consistencia de Personaje con Nano Banana",
          description: "Gracias a los avances en la generación de imágenes, ahora podemos crear múltiples escenas y poses manteniendo la identidad y rasgos del personaje principal, una capacidad clave para la narrativa visual y el branding.",
          slides: [
            { image: 'https://images.pexels.com/photos/3772509/pexels-photo-3772509.jpeg', caption: 'Pose inicial de frente, estableciendo el look base.' },
            { image: 'https://images.pexels.com/photos/3772511/pexels-photo-3772511.jpeg', caption: 'Giro sutil, manteniendo la coherencia en el peinado y la ropa.' },
            { image: 'https://images.pexels.com/photos/3772510/pexels-photo-3772510.jpeg', caption: 'Perfilado, demostrando consistencia en los rasgos faciales.' },
            { image: 'https://images.pexels.com/photos/3772506/pexels-photo-3772506.jpeg', caption: 'Cambio de ángulo e iluminación, sin perder la identidad.' },
            { image: 'https://images.pexels.com/photos/3772505/pexels-photo-3772505.jpeg', caption: 'Pose final, confirmando la estabilidad del personaje.' },
          ]
        };


        // --- COMPONENTS ---
        
        const SocialIcons = ({ platform, ...props }) => {
          switch (platform) {
            case 'twitter': return ( <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}> <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" /> </svg> );
            case 'instagram': return ( <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}> <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919 1.266-.058 1.644-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.44-1.441-1.44z" /> </svg> );
            case 'linkedin': return ( <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}> <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" /> </svg> );
            case 'github': return ( <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" /> </svg> );
            default: return null;
          }
        };

        const PlayIcon = (props) => ( <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}> <path fillRule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.647c1.295.742 1.295 2.545 0 3.286L7.279 20.99c-1.25.717-2.779-.217-2.779-1.643V5.653z" clipRule="evenodd" /> </svg> );
        const PhotographIcon = (props) => ( <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}> <path strokeLinecap="round" strokeLinejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" /> </svg> );

        const CustomCursor = () => {
          const dotRef = useRef(null);
          const outlineRef = useRef(null);
          useEffect(() => {
            const mouseMove = (e) => {
              const { clientX, clientY } = e;
              gsap.to(dotRef.current, { x: clientX, y: clientY, duration: 0.1, ease: 'power3' });
              gsap.to(outlineRef.current, { x: clientX, y: clientY, duration: 0.5, ease: 'power3' });
            };
            const handleMouseEnter = () => outlineRef.current?.classList.add('hovered');
            const handleMouseLeave = () => outlineRef.current?.classList.remove('hovered');
            window.addEventListener('mousemove', mouseMove);
            const elementsToWatch = document.querySelectorAll('.cursor-pointer-grow');
            elementsToWatch.forEach(el => {
                el.addEventListener('mouseenter', handleMouseEnter);
                el.addEventListener('mouseleave', handleMouseLeave);
            });
            return () => {
              window.removeEventListener('mousemove', mouseMove);
              elementsToWatch.forEach(el => {
                el.removeEventListener('mouseenter', handleMouseEnter);
                el.removeEventListener('mouseleave', handleMouseLeave);
            });
            };
          }, []);
          return (
            <div className="custom-cursor hidden md:block">
              <div ref={dotRef} className="cursor-dot"></div>
              <div ref={outlineRef} className="cursor-outline"></div>
            </div>
          );
        };

        const Header = ({ content }) => {
          const [isOpen, setIsOpen] = useState(false);
          const [isScrolled, setIsScrolled] = useState(false);
          useEffect(() => {
            const handleScroll = () => setIsScrolled(window.scrollY > 50);
            window.addEventListener('scroll', handleScroll);
            return () => window.removeEventListener('scroll', handleScroll);
          }, []);
          const toggleMenu = () => setIsOpen(!isOpen);
          return (
            <header className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${isScrolled || isOpen ? 'bg-brand-primary/80 backdrop-blur-lg' : 'bg-transparent'}`}>
              <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                <div className="flex items-center justify-between h-20">
                  <a href="#hero" className="cursor-pointer-grow"><span className="text-2xl font-bold text-brand-light font-['Archivo'] tracking-wider hover:text-brand-accent transition-colors duration-300">The Last Art</span></a>
                  <nav className="hidden md:flex items-center space-x-8">{content.navLinks.map((link) => (<a key={link.name} href={link.href} className="cursor-pointer-grow text-brand-light hover:text-brand-accent transition-colors duration-300">{link.name}</a>))}</nav>
                  <div className="hidden md:flex items-center space-x-4">{content.socialLinks.map(link => (<a key={link.platform} href={link.url} target="_blank" rel="noopener noreferrer" className="cursor-pointer-grow text-brand-light hover:text-brand-accent transition-colors duration-300"><SocialIcons platform={link.platform} className="w-5 h-5" /></a>))}</div>
                  <div className="md:hidden"><button onClick={toggleMenu} className="cursor-pointer-grow text-brand-light focus:outline-none" aria-label="Toggle menu"><svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">{isOpen ? <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /> : <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16m-7 6h7" />}</svg></button></div>
                </div>
              </div>
              <div className={`md:hidden absolute top-full left-0 w-full bg-brand-secondary overflow-hidden transition-all duration-300 ease-in-out ${isOpen ? 'max-h-96' : 'max-h-0'}`}>
                <nav className="flex flex-col items-center p-4 space-y-4">
                  {content.navLinks.map((link) => (<a key={link.name} href={link.href} onClick={() => setIsOpen(false)} className="text-brand-light text-lg hover:text-brand-accent transition-colors duration-300">{link.name}</a>))}
                  <div className="flex items-center space-x-6 pt-4">{content.socialLinks.map(link => (<a key={link.platform} href={link.url} target="_blank" rel="noopener noreferrer" className="text-brand-light hover:text-brand-accent transition-colors duration-300"><SocialIcons platform={link.platform} className="w-6 h-6" /></a>))}</div>
                </nav>
              </div>
            </header>
          );
        };

        const Hero = ({ content, isLoaded }) => {
          const heroRef = useRef(null);
          const titleRef = useRef(null);
          const subtitleRef = useRef(null);
          const ctaRef = useRef(null);
          const animationStarted = useRef(false);
          useEffect(() => {
            if (!isLoaded) return;
            const runTextAnimation = () => {
              if (!titleRef.current || animationStarted.current) return;
              animationStarted.current = true;
              try {
                gsap.set([subtitleRef.current, ctaRef.current], { opacity: 1 });
                const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });
                const split = new window.SplitText(titleRef.current, { type: "chars, words" });
                tl.from(split.chars, { opacity: 0, y: 80, rotateX: -90, stagger: 0.03 }, "+=0.2");
                tl.from(subtitleRef.current, { y: 30, opacity: 0, duration: 1.2 }, "-=1.2").from(ctaRef.current, { y: 30, opacity: 0, duration: 1.2 }, "-=0.9");
              } catch (error) {
                console.error("Failed to execute SplitText animation, running fallback:", error);
                gsap.fromTo([titleRef.current, subtitleRef.current, ctaRef.current], { opacity: 0, y: 30 }, { opacity: 1, y: 0, duration: 1, stagger: 0.2, ease: 'power3.out' });
              }
            };
            let intervalId;
            const checkSplitText = () => {
              if (typeof window.SplitText === 'function') {
                clearInterval(intervalId);
                window.addEventListener('startHeroTextAnimation', runTextAnimation);
              }
            };
            intervalId = window.setInterval(checkSplitText, 100);
            const parallaxInstance = gsap.to(".hero-video", { scrollTrigger: { trigger: heroRef.current, start: "top top", end: "bottom top", scrub: true }, yPercent: 30, ease: "none" });
            return () => {
              clearInterval(intervalId);
              window.removeEventListener('startHeroTextAnimation', runTextAnimation);
              if (parallaxInstance.scrollTrigger) parallaxInstance.scrollTrigger.kill();
              parallaxInstance.kill();
            };
          }, [isLoaded]);
          return (
            <section id="hero" ref={heroRef} className="relative h-screen flex items-center justify-center text-center overflow-hidden">
              <div className="absolute inset-0 z-0">
                <video className="hero-video absolute top-0 left-0 w-full h-full object-cover" src={content.backgroundVideoUrl} autoPlay loop muted playsInline />
                <div className="absolute inset-0 bg-brand-primary opacity-60"></div>
              </div>
              <div className="relative z-10 px-4">
                <div className="hero-content-anim">
                  <h1 ref={titleRef} className="text-4xl md:text-6xl lg:text-7xl font-extrabold text-white mb-4 leading-tight tracking-tighter">{content.title}</h1>
                  <p ref={subtitleRef} className="text-lg md:text-xl lg:text-2xl text-brand-light max-w-3xl mx-auto mb-8" style={{ opacity: 0 }}>{content.subtitle}</p>
                  <a ref={ctaRef} href={content.ctaLink} className="cursor-pointer-grow inline-block bg-brand-accent text-brand-primary font-bold py-3 px-8 rounded-full text-lg hover:bg-white transition-all duration-300 transform hover:scale-105" style={{ opacity: 0 }}>{content.ctaText}</a>
                </div>
              </div>
            </section>
          );
        };
        
        const About = ({ content }) => {
            const imageRef = useRef(null);
            useEffect(() => {
                if (!imageRef.current) return;
                gsap.fromTo(imageRef.current, 
                    { yPercent: -10, ease: 'none' },
                    { yPercent: 10, ease: 'none', scrollTrigger: { trigger: imageRef.current.parentElement, scrub: true } }
                );
            }, []);
          return (
            <section id="about" className="section-reveal py-20 md:py-32 bg-brand-secondary">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                <div className="grid md:grid-cols-2 gap-12 md:gap-16 items-center">
                  <div className="overflow-hidden rounded-lg"><img ref={imageRef} src={content.imageUrl} alt="About the project" className="w-full h-full object-cover" /></div>
                  <div>
                    <h2 className="text-3xl md:text-4xl font-bold mb-6 text-white">{content.title}</h2>
                    {content.paragraphs.map((p, index) => (<p key={index} className="text-brand-light mb-4 leading-relaxed">{p}</p>))}
                  </div>
                </div>
              </div>
            </section>
          );
        };

        const Gallery = ({ content, onOpenModal }) => {
          const titleRef = useRef(null);
          useEffect(() => {
            if (!titleRef.current) return;
            const anim = gsap.to(titleRef.current, { skewX: -8, ease: 'none', scrollTrigger: { trigger: titleRef.current.parentElement, start: 'top bottom', end: 'bottom top', scrub: 1 } });
            return () => {
              if (anim.scrollTrigger) anim.scrollTrigger.kill();
              anim.kill();
            }
          }, []);
          return (
            <section id="gallery" className="section-reveal py-20 md:py-32 bg-brand-primary">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 ref={titleRef} className="text-3xl md:text-4xl font-bold text-center mb-12 text-white">Galería de Proyectos</h2>
                <div className="columns-1 sm:columns-2 md:columns-3 gap-4 lg:gap-6">
                  {content.map((item) => (
                    <div key={item.id} className="group relative mb-4 lg:mb-6 break-inside-avoid cursor-pointer overflow-hidden rounded-lg cursor-pointer-grow" onClick={() => onOpenModal(item)}>
                      <img src={item.thumbnail} alt={item.title} className="w-full h-auto object-cover transition-transform duration-500 ease-in-out group-hover:scale-110" />
                      <div className="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all duration-500 ease-in-out flex flex-col justify-end p-6">
                        <div className="transform translate-y-8 group-hover:translate-y-0 transition-transform duration-500 ease-in-out">
                          <div className="mb-2">{item.type === 'video' ? <PlayIcon className="w-8 h-8 text-white opacity-80" /> : <PhotographIcon className="w-8 h-8 text-white opacity-80" />}</div>
                          <h3 className="text-white text-xl font-bold ">{item.title}</h3>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </section>
          );
        };
        
        const TeamMemberCard = ({ member }) => {
            const [isHovered, setIsHovered] = useState(false);
            return (
                <div className="relative flex flex-col items-center text-center p-6" onMouseEnter={() => setIsHovered(true)} onMouseLeave={() => setIsHovered(false)}>
                    <div className="relative w-48 h-48 md:w-56 md:h-56 mb-6 rounded-full overflow-hidden shadow-lg border-4 border-brand-secondary">
                        <img src={member.image1} alt={member.name} className={`absolute w-full h-full object-cover transition-opacity duration-700 ease-in-out ${isHovered ? 'opacity-0' : 'opacity-100'}`} />
                        <img src={member.image2} alt={`${member.name} alternative`} className={`absolute w-full h-full object-cover transition-opacity duration-700 ease-in-out ${isHovered ? 'opacity-100' : 'opacity-0'}`} />
                    </div>
                    <h3 className="text-xl font-bold text-white">{member.name}</h3>
                    <p className="text-brand-accent mb-4">{member.role}</p>
                    <div className="flex space-x-4">{member.social.map(link => (<a key={link.platform} href={link.url} target="_blank" rel="noopener noreferrer" className="cursor-pointer-grow text-brand-muted hover:text-brand-accent transition-colors duration-300"><SocialIcons platform={link.platform} className="w-6 h-6" /></a>))}</div>
                </div>
            );
        };

        const Team = ({ content }) => {
          const swiperRef = useRef(null);
          useEffect(() => {
            if (swiperRef.current) {
              new Swiper(swiperRef.current, { loop: false, slidesPerView: 1, spaceBetween: 30, autoplay: { delay: 5000, disableOnInteraction: false }, pagination: { el: '.swiper-pagination', clickable: true }, navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' }, breakpoints: { 640: { slidesPerView: 2, spaceBetween: 20 }, 1024: { slidesPerView: 3, spaceBetween: 40 } } });
            }
          }, []);
          return (
            <section id="team" className="section-reveal pt-10 pb-10 md:pt-16 md:pb-16 bg-brand-secondary">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 className="text-3xl md:text-4xl font-bold text-center mb-12 text-white">Nuestro Equipo</h2>
                <div className="swiper" ref={swiperRef}>
                  <div className="swiper-wrapper">{content.map((member) => (<div key={member.id} className="swiper-slide"><TeamMemberCard member={member} /></div>))}</div>
                  <div className="swiper-pagination"></div>
                  <div className="swiper-button-prev cursor-pointer-grow"></div>
                  <div className="swiper-button-next cursor-pointer-grow"></div>
                </div>
              </div>
            </section>
          );
        };

        const Contact = ({ content }) => {
          const sectionRef = useRef(null);
          const orbRef = useRef(null);
          const formRef = useRef(null);
          const formContentRef = useRef(null);
          const thankYouRef = useRef(null);
          const flashOverlayRef = useRef(null);
          const [formData, setFormData] = useState({ name: '', email: '', message: '' });
          const [errors, setErrors] = useState({ name: false, email: false, message: false });
          const [isSubmitted, setIsSubmitted] = useState(false);

          const validateField = (name, value) => {
            let hasError = false;
            if (name === 'name') hasError = value.trim() === '' || /\d/.test(value);
            else if (name === 'email') hasError = !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);
            else if (name === 'message') hasError = value.trim() === '';
            setErrors(prev => ({ ...prev, [name]: hasError }));
            return hasError;
          };
          
          const handleBlur = (e) => {
            const { name, value } = e.target;
            validateField(name, value);
          };

          useLayoutEffect(() => {
            if (!sectionRef.current) return;
            const orb = orbRef.current;
            const inputs = gsap.utils.toArray('input, textarea', formRef.current);
            const button = formRef.current?.querySelector('button[type="submit"]');
            const ctx = gsap.context(() => {
              gsap.to(orb, { y: 10, duration: 2, repeat: -1, yoyo: true, ease: 'sine.inOut' });
              inputs.forEach((input) => {
                input.addEventListener('focus', () => gsap.to(orb, { '--glow-opacity': 0.6, scale: 1.1, duration: 0.4 }));
                input.addEventListener('blur', () => gsap.to(orb, { '--glow-opacity': 0.2, scale: 1, duration: 0.4 }));
              });
              if (button) {
                  button.addEventListener('mouseenter', () => gsap.to(orb, { scale: 1.2, '--glow-opacity': 0.8, duration: 0.3 }));
                  button.addEventListener('mouseleave', () => gsap.to(orb, { scale: 1, '--glow-opacity': 0.2, duration: 0.3 }));
              }
            }, sectionRef);
            return () => ctx.revert();
          }, []);
          
          useLayoutEffect(() => {
            const hasAnyError = Object.values(errors).some(Boolean);
            if (hasAnyError) {
              gsap.to(orbRef.current, { x: 'random(-5, 5)', y: 'random(-5, 5)', duration: 0.1, repeat: 5, ease: 'power2.inOut', onComplete: () => gsap.to(orbRef.current, {x: 0, y: 10, duration: 0.5}) });
              orbRef.current?.classList.add('orb-error');
            } else {
              orbRef.current?.classList.remove('orb-error');
            }
          }, [errors]);

          const handleSubmit = (e) => {
            e.preventDefault();
            if (isSubmitted) return;
            const nameError = validateField('name', formData.name);
            const emailError = validateField('email', formData.email);
            const messageError = validateField('message', formData.message);
            if (nameError || emailError || messageError) return;
            setIsSubmitted(true);
            const tl = gsap.timeline();
            tl.to(formContentRef.current, { opacity: 0, y: 50, duration: 0.6, ease: 'power3.in' })
            .to(flashOverlayRef.current, { opacity: 1, duration: 0.5, ease: 'power3.inOut' })
            .to(flashOverlayRef.current, { opacity: 0, duration: 0.5, ease: 'power3.out' })
            .set(formRef.current, { display: 'none' })
            .fromTo(thankYouRef.current, { opacity: 0, y: 30 }, { opacity: 1, y: 0, duration: 0.8, ease: 'power3.out' });
          };

          return (
            <section id="contact" ref={sectionRef} className="section-reveal py-20 md:py-32 bg-brand-primary overflow-hidden">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative">
                <div className="grid md:grid-cols-2 gap-12 md:gap-16 items-center">
                  <div className="hidden md:flex justify-center items-center"><img src={content.illustrationUrl} alt="A person working on a laptop" className="max-w-md w-full" /></div>
                  <div ref={formContentRef}>
                    <p className="text-brand-accent font-semibold mb-2">{content.preTitle}</p>
                    <h2 className="text-4xl md:text-5xl font-bold text-white mb-4">{content.mainTitle}</h2>
                    <p className="text-brand-muted mb-8">{content.paragraph}</p>
                    <form ref={formRef} onSubmit={handleSubmit} noValidate className="space-y-6">
                      <div><label htmlFor="name" className="block text-sm font-medium text-brand-light mb-2">Name</label><input type="text" name="name" id="name" value={formData.name} onChange={(e) => setFormData({...formData, name: e.target.value})} onBlur={handleBlur} required placeholder="John Doe" className={`contact-input ${errors.name ? 'border-red-500' : 'border-brand-muted/20'}`} /></div>
                      <div><label htmlFor="email" className="block text-sm font-medium text-brand-light mb-2">Email Address</label><input type="email" name="email" id="email" value={formData.email} onChange={(e) => setFormData({...formData, email: e.target.value})} onBlur={handleBlur} required placeholder="example@mail.com" className={`contact-input ${errors.email ? 'border-red-500' : 'border-brand-muted/20'}`} /></div>
                      <div><label htmlFor="message" className="block text-sm font-medium text-brand-light mb-2">Message</label><textarea name="message" id="message" value={formData.message} onChange={(e) => setFormData({...formData, message: e.target.value})} onBlur={handleBlur} required rows={4} placeholder="What is the issue?" className={`contact-input ${errors.message ? 'border-red-500' : 'border-brand-muted/20'}`}></textarea></div>
                      <div className="flex items-center gap-4 pt-4"><button type="submit" className="submit-btn cursor-pointer-grow">Submit</button><button type="button" className="secondary-btn cursor-pointer-grow">Schedule A Meeting</button><div ref={orbRef} className="contact-orb"></div></div>
                       <p className="text-xs text-brand-muted pt-4">{content.disclaimer}</p>
                    </form>
                  </div>
                </div>
                <div ref={thankYouRef} className="absolute inset-0 flex flex-col items-center justify-center text-center opacity-0 pointer-events-none"><h3 className="text-4xl font-bold text-white">Thank You!</h3><p className="text-lg text-brand-light mt-4">Your message has been received.</p></div>
                <div ref={flashOverlayRef} className="absolute inset-0 bg-brand-accent opacity-0 pointer-events-none"></div>
              </div>
            </section>
          );
        };
        
        const Footer = ({ content }) => {
          return (
            <footer className="bg-brand-secondary py-12">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center text-brand-muted">
                <div className="flex justify-center space-x-6 mb-6">{content.links.map((link) => (<a key={link.name} href={link.href} className="cursor-pointer-grow hover:text-brand-accent transition-colors">{link.name}</a>))}</div>
                <div className="flex justify-center space-x-6 mb-8">{content.socialLinks.map(link => (<a key={link.platform} href={link.url} target="_blank" rel="noopener noreferrer" className="cursor-pointer-grow text-brand-light hover:text-brand-accent transition-colors duration-300"><SocialIcons platform={link.platform} className="w-6 h-6" /></a>))}</div>
                <p>{content.copyright}</p>
              </div>
            </footer>
          );
        };
        
        const Modal = ({ item, onClose }) => {
          const modalRef = useRef(null);
          const backdropRef = useRef(null);
          const contentRef = useRef(null);

          useEffect(() => {
            const tl = gsap.timeline();
            tl.fromTo(backdropRef.current, { opacity: 0 }, { opacity: 1, duration: 0.5, ease: 'power2.inOut' })
              .fromTo(contentRef.current, { scale: 0.9, opacity: 0, y: 20 }, { scale: 1, opacity: 1, y: 0, duration: 0.5, ease: 'power2.out' }, "-=0.3");
          }, []);

          const handleClose = () => {
            const tl = gsap.timeline({ onComplete: onClose });
            tl.to(contentRef.current, { scale: 0.9, opacity: 0, y: 20, duration: 0.3, ease: 'power2.in' })
              .to(backdropRef.current, { opacity: 0, duration: 0.3, ease: 'power2.inOut' }, "-=0.1");
          };

          useEffect(() => {
            const handleKeyDown = (e) => { if (e.key === 'Escape') handleClose(); };
            window.addEventListener('keydown', handleKeyDown);
            return () => window.removeEventListener('keydown', handleKeyDown);
          }, []);

          return (
            <div ref={modalRef} className="fixed inset-0 z-50 flex items-center justify-center p-4">
              <div ref={backdropRef} className="absolute inset-0 bg-black/80 backdrop-blur-sm cursor-pointer-grow" onClick={handleClose}></div>
              <div ref={contentRef} className="relative bg-brand-secondary rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden">
                <div className="flex-shrink-0 relative">
                  {item.type === 'image' ? ( <img src={item.src} alt={item.title} className="w-full h-auto max-h-[70vh] object-contain" /> ) : ( <video src={item.src} autoPlay loop controls className="w-full h-auto max-h-[70vh] object-contain"></video> )}
                </div>
                <div className="flex-1 p-6 overflow-y-auto">
                  <h3 className="text-2xl font-bold text-white mb-2">{item.title}</h3>
                  <p className="text-brand-light">{item.description}</p>
                </div>
                <button onClick={handleClose} className="cursor-pointer-grow absolute top-4 right-4 text-white bg-black/50 rounded-full p-2 hover:bg-black/80 transition-colors">
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
              </div>
            </div>
          );
        };

        const Comparison = () => {
            const sectionRef = useRef(null);
            const pinnedContainerRef = useRef(null);
            const videoMediaRef = useRef(null);
            const [typedText, setTypedText] = useState('');
            const [showCursor, setShowCursor] = useState(true);
            
            useEffect(() => {
                if (!sectionRef.current || !pinnedContainerRef.current) return;
                const textSteps = gsap.utils.toArray('.step-content', sectionRef.current);
                const simplePromptContainer = pinnedContainerRef.current.querySelector('.simple-prompt-container');
                const technicalPromptContainer = pinnedContainerRef.current.querySelector('.technical-prompt-container');
                const image2El = pinnedContainerRef.current.querySelector('.image2-el');
                const image3El = pinnedContainerRef.current.querySelector('.image3-el');
                const image4El = pinnedContainerRef.current.querySelector('.image4-el');
                const videoEl = pinnedContainerRef.current.querySelector('.video-el');
                const ctx = gsap.context(() => {
                    const tl = gsap.timeline({ scrollTrigger: { trigger: sectionRef.current, pin: pinnedContainerRef.current, scrub: 1, start: 'top top', end: `+=${window.innerHeight * 19}` } });
                    gsap.set(textSteps, { opacity: 0 });
                    gsap.set([simplePromptContainer, technicalPromptContainer, image2El, image3El, image4El, videoEl], { opacity: 0 });
                    gsap.set([image2El, image3El, image4El, videoEl], { scale: 0.95 });
                    setTypedText('');
                    setShowCursor(true);
                    tl.to(simplePromptContainer, { opacity: 1, duration: 1.5 });
                    tl.to(technicalPromptContainer, { opacity: 1, duration: 0.1 }, "<");
                    const fullText = processContent.technicalPrompt;
                    const proxy = { value: 0 };
                    tl.to(proxy, { value: fullText.length, duration: 3, ease: 'none', onUpdate: () => setTypedText(fullText.substring(0, Math.ceil(proxy.value))), onComplete: () => setShowCursor(false) }, "+=0.5");
                    tl.to([simplePromptContainer, technicalPromptContainer], { opacity: 0, duration: 1 }, "+=2.5");
                    tl.to(textSteps[0], { opacity: 1, duration: 1.5 }, "+=0.5").to(image2El, { opacity: 1, scale: 1, duration: 1.5 }, "<");
                    tl.to(textSteps[0], { opacity: 0, duration: 1 }, "+=3.0").to(textSteps[1], { opacity: 1, duration: 1 }, "<").to(image2El, { opacity: 0, duration: 1 }, "<").to(image3El, { opacity: 1, scale: 1, duration: 1.5 }, "<+=0.2");
                    tl.to(textSteps[1], { opacity: 0, duration: 1 }, "+=3.0").to(textSteps[2], { opacity: 1, duration: 1 }, "<").to(image3El, { opacity: 0, duration: 1 }, "<").to(image4El, { opacity: 1, scale: 1, duration: 1.5 }, "<+=0.2");
                    tl.to(textSteps[2], { opacity: 0, duration: 1 }, "+=3.0").to(textSteps[3], { opacity: 1, duration: 1 }, "<").to(image4El, { opacity: 0, scale: 0.95, duration: 1.5 }, "<").to(videoEl, { opacity: 1, scale: 1, duration: 1.5, onStart: () => videoMediaRef.current?.play().catch(e => console.error("Video play failed", e)) }, "<+=0.2");
                    tl.to({}, {duration: 3.0});
                }, sectionRef);
                return () => ctx.revert();
            }, []);

            return (
                <section ref={sectionRef} className="relative bg-brand-primary">
                    <div ref={pinnedContainerRef} className="h-screen w-full flex flex-col items-center justify-center overflow-hidden">
                        <div className="container mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-10 lg:gap-20 items-center">
                            <div className="z-10 relative">
                                <h2 className="text-4xl md:text-5xl font-bold text-white mb-8">{processContent.title}</h2>
                                <div className="relative min-h-[12rem] md:min-h-[10rem]">
                                    <div className="simple-prompt-container absolute top-0 left-0 w-full"><div className="bg-brand-secondary/50 p-6 rounded-lg backdrop-blur-sm border border-white/10"><p className="text-brand-accent font-mono text-sm mb-2">// PROMPT</p><p className="text-brand-light leading-relaxed">{processContent.simplePrompt}</p></div></div>
                                    {processContent.steps.map(step => (<div key={step.id} className="step-content absolute top-0 left-0 w-full"><h3 className="text-2xl font-bold text-white mt-4 mb-2">{step.title}</h3><p className="text-brand-muted">{step.description}</p></div>))}
                                </div>
                            </div>
                            <div className="relative aspect-video rounded-lg overflow-hidden bg-black/20 shadow-2xl shadow-brand-accent/10">
                                <div className="technical-prompt-container absolute inset-0 p-4 sm:p-6 bg-black/50 flex items-center justify-center font-mono text-xs sm:text-sm text-brand-accent leading-relaxed"><p>{typedText}{showCursor && <span className="animate-pulse">|</span>}</p></div>
                                <div className="image2-el absolute inset-0"><img src={processContent.assets.image2} alt="Generated whisk asset" className="w-full h-full object-cover" /></div>
                                <div className="image3-el absolute inset-0"><img src={processContent.assets.image3} alt="Generated bowl with ingredients" className="w-full h-full object-cover" /></div>
                                <div className="image4-el absolute inset-0"><img src={processContent.assets.image4} alt="Composited keyframe" className="w-full h-full object-cover" /></div>
                                <div className="video-el absolute inset-0"><video ref={videoMediaRef} className="w-full h-full object-cover" src={processContent.assets.video} muted loop playsInline></video></div>
                            </div>
                        </div>
                    </div>
                </section>
            );
        };
        
        const CharacterConsistency = () => {
          const swiperRef = useRef(null);
          useEffect(() => {
            if (swiperRef.current) {
              new Swiper(swiperRef.current, { loop: true, centeredSlides: true, slidesPerView: 1, spaceBetween: 20, autoplay: { delay: 4000, disableOnInteraction: false, }, pagination: { el: '.swiper-pagination', clickable: true, }, navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev', }, breakpoints: { 768: { slidesPerView: 2, spaceBetween: 30, }, 1024: { slidesPerView: 3, spaceBetween: 40, }, }, });
            }
          }, []);
          return (
            <section id="consistency" className="section-reveal py-20 md:py-32 bg-brand-secondary overflow-hidden">
              <div className="container mx-auto px-4 sm:px-6 lg:px-8">
                <div className="text-center max-w-3xl mx-auto mb-12">
                  <h2 className="text-3xl md:text-4xl font-bold text-white mb-4">{consistencyContent.title}</h2>
                  <p className="text-brand-light leading-relaxed">{consistencyContent.description}</p>
                </div>
                <div className="swiper" ref={swiperRef}>
                  <div className="swiper-wrapper">{consistencyContent.slides.map((slide, index) => (<div key={index} className="swiper-slide"><div className="aspect-[4/5] rounded-lg overflow-hidden shadow-xl"><img src={slide.image} alt={`Modelo pose ${index + 1}`} className="w-full h-full object-cover transition-transform duration-500 ease-in-out hover:scale-105" /></div><p className="mt-4 text-center text-brand-muted text-sm px-2 h-10">{slide.caption}</p></div>))}</div>
                  <div className="swiper-pagination mt-8 relative !bottom-0"></div>
                  <div className="swiper-button-prev cursor-pointer-grow"></div>
                  <div className="swiper-button-next cursor-pointer-grow"></div>
                </div>
              </div>
            </section>
          );
        };

        const App = () => {
          const [selectedItem, setSelectedItem] = useState(null);
          const mainRef = useRef(null);

          useEffect(() => {
            let cleanup = null;
            const initializeApp = () => {
                gsap.registerPlugin(ScrollTrigger);
                const sections = gsap.utils.toArray('.section-reveal');
                sections.forEach((section) => {
                  gsap.set(section, { autoAlpha: 1 });
                  gsap.fromTo(section, 
                    { clipPath: 'polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%)' }, 
                    { clipPath: 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)', duration: 1.2, ease: 'power3.out', scrollTrigger: { trigger: section, start: 'top 85%', end: 'bottom 20%', toggleActions: 'play none none reverse' } }
                  );
                });
                window.dispatchEvent(new CustomEvent('startHeroTextAnimation'));
                ScrollTrigger.refresh();
                cleanup = () => { ScrollTrigger.getAll().forEach((st) => st.kill()); };
            };
            if (window.preloaderHasFinished) {
              initializeApp();
            } else {
              window.addEventListener('preloaderFinished', initializeApp, { once: true });
            }
            return () => {
                window.removeEventListener('preloaderFinished', initializeApp);
                cleanup?.();
            }
          }, []);

          const handleOpenModal = (item) => setSelectedItem(item);
          const handleCloseModal = () => setSelectedItem(null);

          return (
            <React.Fragment>
              <CustomCursor />
              <div ref={mainRef} className="bg-brand-primary font-sans antialiased overflow-x-hidden">
                <Header content={content.header} />
                <main>
                  <Hero content={content.hero} isLoaded={true} />
                  <About content={content.about} />
                  <Comparison />
                  <CharacterConsistency />
                  <Gallery content={content.gallery} onOpenModal={handleOpenModal} />
                  <Team content={content.team} />
                  <Contact content={content.contact} />
                </main>
                <Footer content={content.footer} />
                {selectedItem && <Modal item={selectedItem} onClose={handleCloseModal} />}
              </div>
            </React.Fragment>
          );
        };

        // --- RENDER APP ---
        const rootElement = document.getElementById('root');
        const root = ReactDOM.createRoot(rootElement);
        root.render(<App />);

    </script>
</body>
</html>
